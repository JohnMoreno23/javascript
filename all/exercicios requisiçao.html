<html>

<body>
    <div class="container">

    </div>
    <script>
        // fetch('https://jsonplaceholder.typicode.com/todos/1').then(response =>
        //     response.json()).then(json => console.log(json))
        //     //forma mais usada pra requisições


        // aqui fiz a requisição fatch no metodo get, na lista de filmes link abaixo
        fetch('https://api.themoviedb.org/3/movie/popular?api_key=506fadb0256c13349acc05dabebf9604&language=en-US&page=1', {
            method: 'get'
        })
            .then(response => response.json())
            .then(function (json) { //gerou uma lista de filmes completa no json
                var container = document.querySelector('.container')

                //depois fiz um mapa dentro dos resultados, criei uma div la em cima
                //com classe container e coloquei o resultado nele

                json.results.map(function (val) {
                    container.innerHTML += `
                    <div style="cursor:pointer" class="tituloFilme">`+ val.title + `
                        <div style="display:none;" class="description"><strong> `+ val.overview + `</strong></div>
                        <hr>
                    
                    </div>`
                    //depois criei uma div pra armazenar o titulo e outra pra armazenar a descrição do filme
                    //concatenei no javascript com a função VAL
                    //coloquei o comando la em baixo pra clicar e mostrar ou recolher o conteúdo

                })

                //armazenei todo o conteudo na var titulos
                //com for criei um loop
                //coloquei um evento no t, pegando target pra clicar e mostrar ou recolher

                var titulos = document.querySelectorAll('.tituloFilme')
                for (var i = 0; i < titulos.length; i++)
                    titulos[i].addEventListener('click', function (t) {
                        if (t.target.querySelector('.description').style.display == "none") {
                            t.target.querySelector('.description').style.display = "block"
                        } else {
                            t.target.querySelector('.description').style.display = "none"
                        }
                    })

            })



    </script>
</body>

</html>